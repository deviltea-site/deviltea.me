import{_ as e}from"./bx-anchor.518d7288.js";import{o as l,c as a,a as n,F as r,x as t}from"./vendor.eea8be67.js";var o="/assets/github-pages-cname-note-1.52324f4d.png";const s={filename:"/Users/deviltea/Documents/Programming/vite-vue-blog/posts/github-pages-cname-note.md",title:"設定 GitHub Pages 使用自訂 Domain",description:"記錄如何使用 Gandi + Cloudflare 設定 GitHub Pages 使用自訂 Domain",tags:["其他","筆記"],publishedDate:1623825435267},i=[{level:"2",content:'<a class="header-anchor" href="#%E5%89%8D%E8%A8%80"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x524D;&#x8A00;'},{level:"2",content:'<a class="header-anchor" href="#%E6%9C%AC%E6%96%87"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x672C;&#x6587;'},{level:"3",content:'<a class="header-anchor" href="#%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x524D;&#x7F6E;&#x4F5C;&#x696D;'},{level:"3",content:'<a class="header-anchor" href="#%E8%AE%93-cloudflare-%E6%8E%A5%E7%AE%A1-dns-%E6%9C%8D%E5%8B%99"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x8B93; Cloudflare &#x63A5;&#x7BA1; DNS &#x670D;&#x52D9;'},{level:"3",content:'<a class="header-anchor" href="#%E6%B7%BB%E5%8A%A0-dns-%E8%A8%98%E9%8C%84"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x6DFB;&#x52A0; DNS &#x8A18;&#x9304;'},{level:"3",content:'<a class="header-anchor" href="#%E8%A8%AD%E5%AE%9A-repo-%E7%9A%84-github-pages"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x8A2D;&#x5B9A; Repo &#x7684; GitHub Pages'},{level:"3",content:'<a class="header-anchor" href="#%E5%BC%B7%E5%88%B6%E4%BD%BF%E7%94%A8-https"><icon-bx-bx-anchor></icon-bx-bx-anchor></a> &#x5F37;&#x5236;&#x4F7F;&#x7528; HTTPS'}],c={id:"%E5%89%8D%E8%A8%80"},u={class:"header-anchor",href:"#%E5%89%8D%E8%A8%80"},h=t(" 前言"),d=n("p",null,[t("這篇的使用情況是 "),n("a",{href:""},"Gandi"),t(" + "),n("a",{href:""},"Cloudflare"),t("，Gandi 為 DNS 服務商，Cloudflare 提供 CDN 以及 DNS 託管，使用以上去設定 GitHub Pages 使用自訂 Domain，記錄一些步驟以及踩到的雷")],-1),g=n("div",{class:"warning"},[n("p",null,"此文撰寫時只針對個別 Repo 進行設定，GitHub Pages 的自訂 Domain 也可以針對 Organization / User 進行設定")],-1),E={id:"%E6%9C%AC%E6%96%87"},b={class:"header-anchor",href:"#%E6%9C%AC%E6%96%87"},p=t(" 本文"),m={id:"%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD"},A={class:"header-anchor",href:"#%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD"},x=t(" 前置作業"),D=n("ol",null,[n("li",null,"申辦及購買完成自己的 Domain (本文使用 Gandi)"),n("li",null,"申辦完成 Cloudflare 帳戶"),n("li",null,"新增持有的 Domain 到 Cloudflare"),n("li",null,[t("點擊新增網站"),n("br"),n("img",{src:"/assets/github-pages-cname-note-0-1.9b49b21b.png",alt:"點擊新增網站示意圖"})]),n("li",null,[t("輸入你持有的 Domain"),n("br"),n("img",{src:"/assets/github-pages-cname-note-0-2.c9bcf46e.png",alt:"輸入你持有的 Domain 示意圖"})])],-1),f={id:"%E8%AE%93-cloudflare-%E6%8E%A5%E7%AE%A1-dns-%E6%9C%8D%E5%8B%99"},B={class:"header-anchor",href:"#%E8%AE%93-cloudflare-%E6%8E%A5%E7%AE%A1-dns-%E6%9C%8D%E5%8B%99"},C=t(" 讓 Cloudflare 接管 DNS 服務"),S=n("ol",null,[n("li",null,[t("點擊 DNS 選項"),n("br"),n("img",{src:o,alt:"點擊 DNS 選項示意圖"})]),n("li",null,[t("看到 “Cloudflare 名稱伺服器”"),n("br"),n("img",{src:o,alt:"看到 “Cloudflare 名稱伺服器” 示意圖"})]),n("li",null,[t("到 Gandi 管理頁面，並移至 “名稱伺服器“ 分頁"),n("br"),n("img",{src:"/assets/github-pages-cname-note-3.b9060542.png",alt:"到 Gandi 管理頁面，並移至 “名稱伺服器“ 分頁示意圖"})]),n("li",null,[t("將 “Cloudflare 名稱伺服器” 裡的值填寫到 “Gandi 管理頁面 名稱伺服器分頁“（完成後儲存）"),n("br"),n("img",{src:"/assets/github-pages-cname-note-4.7e804a66.png",alt:"將 “Cloudflare 名稱伺服器” 裡的值填寫到 “Gandi 管理頁面 名稱伺服器“ 分頁示意圖"})])],-1),v=n("div",{class:"info"},[n("p",null,"至此我們已經讓 Cloudflare 去接管 DNS 相關的工作")],-1),P={id:"%E6%B7%BB%E5%8A%A0-dns-%E8%A8%98%E9%8C%84"},G={class:"header-anchor",href:"#%E6%B7%BB%E5%8A%A0-dns-%E8%A8%98%E9%8C%84"},H=t(" 添加 DNS 記錄"),T=n("ol",null,[n("li",null,[t("來到 Cloudflare DNS 設定頁面點擊新增紀錄"),n("br"),n("img",{src:"/assets/github-pages-cname-note-5.27e653f0.png",alt:"來到 Cloudflare DNS 設定頁面點擊新增紀錄示意圖"})]),n("li",null,[t("添加以下四筆記錄到你需要的自訂 Domain（名稱僅為範例請自行替換） "),n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"類型"),n("th",null,"名稱"),n("th",null,"IPv4 位址")])]),n("tbody",null,[n("tr",null,[n("td",null,"A"),n("td",null,[n("a",{href:"http://imgp.deviltea.me",class:"external-link",target:"_blank",rel:"noopener noreferrer"},"imgp.deviltea.me")]),n("td",null,"185.199.108.153")]),n("tr",null,[n("td",null,"A"),n("td",null,[n("a",{href:"http://imgp.deviltea.me",class:"external-link",target:"_blank",rel:"noopener noreferrer"},"imgp.deviltea.me")]),n("td",null,"185.199.109.153")]),n("tr",null,[n("td",null,"A"),n("td",null,[n("a",{href:"http://imgp.deviltea.me",class:"external-link",target:"_blank",rel:"noopener noreferrer"},"imgp.deviltea.me")]),n("td",null,"185.199.110.153")]),n("tr",null,[n("td",null,"A"),n("td",null,[n("a",{href:"http://imgp.deviltea.me",class:"external-link",target:"_blank",rel:"noopener noreferrer"},"imgp.deviltea.me")]),n("td",null,"185.199.111.153")])])])])],-1),N={id:"%E8%A8%AD%E5%AE%9A-repo-%E7%9A%84-github-pages"},F={class:"header-anchor",href:"#%E8%A8%AD%E5%AE%9A-repo-%E7%9A%84-github-pages"},k=t(" 設定 Repo 的 GitHub Pages"),_=n("ol",{start:"3"},[n("li",null,[t("新增完後到 你的 GitHub Repo 的 Settings 中找到 Pages 選項進入該設定頁面"),n("br"),n("img",{src:"/assets/github-pages-cname-note-6.c4c4a69a.png",alt:"新增完後到 你的 GitHub Repo 的 Settings 中找到 Pages 選項進入該設定頁面示意圖"}),n("ol",null,[n("li",null,"選擇要發佈到網路上的 branch"),n("li",null,[t("原先 GitHub Pages 會套用預設的設定，也就是會套用 "),n("code",null,"<username>.github.io/<repo-name>"),t(" 作為該 repo 的 entry point")]),n("li",null,[t("在此填入要自訂用的 Domain"),n("br"),n("img",{src:"/assets/github-pages-cname-note-7.fa7d615f.png",alt:"在此填入要自訂用的 Domain 示意圖"})]),n("li",null,[t("此時已經套用要自訂的 Domain"),n("br"),n("img",{src:"/assets/github-pages-cname-note-8.ad78ee50.png",alt:"此時已經套用要自訂的 Domain 示意圖"})])])])],-1),R={id:"%E5%BC%B7%E5%88%B6%E4%BD%BF%E7%94%A8-https"},y={class:"header-anchor",href:"#%E5%BC%B7%E5%88%B6%E4%BD%BF%E7%94%A8-https"},w=t(" 強制使用 HTTPS"),U=n("div",{class:"info"},[n("p",null,"都 2021 年了，HTTPS 已經算是必備，所以我們也要 HTTPS！")],-1),j=n("p",null,[t("不過在以上步驟完成後卻發現類似以下的訊息："),n("br"),n("img",{src:"/assets/github-pages-cname-note-9.65c5ea72.png",alt:"HTTPS 無法開啟示意圖"})],-1),I=n("p",null,"這裡要到 Cloudflare 控制頁面做一些處理：",-1),L=n("ol",null,[n("li",null,[t("打開到 "),n("code",null,"SSL / TLS"),t(" 選項分頁，把 "),n("code",null,"完整（嚴格）"),t(" 勾起來"),n("br"),n("img",{src:"/assets/github-pages-cname-note-10.fdf5c4d7.png",alt:"HTTPS 無法開啟示意圖"})]),n("li",null,[t("回到 DNS 頁面先把先前加入的 4 個 "),n("code",null,"A 紀錄"),t(" 的 Proxy "),n("strong",null,"暫時"),t("關閉"),n("br"),n("img",{src:"/assets/github-pages-cname-note-11.8ae21d94.png",alt:"回到 DNS 頁面先把先前加入的 4 個 A 紀錄 的 Proxy 暫時關閉示意圖"})]),n("li",null,[t("稍微等待一段時間後回到 GitHub repo 的 Pages 設定頁面讓他再次自己檢查之後，就會發現底下的 "),n("code",null,"Enforce HTTPS"),t(" 已經可以勾起來了"),n("br"),n("img",{src:"/assets/github-pages-cname-note-12.e06d788a.png",alt:"底下的 ”Enforce HTTPS“ 已經可以勾起來了示意圖"})]),n("li",null,"What R U waiting for? 勾起來就對ㄌ！"),n("li",null,"記得回去將這部分的步驟 2，把 DNS Proxy 開回去")],-1);function z(t,o){const s=e;return l(),a(r,null,[n("h2",c,[n("a",u,[n(s)]),h]),d,g,n("h2",E,[n("a",b,[n(s)]),p]),n("h3",m,[n("a",A,[n(s)]),x]),D,n("h3",f,[n("a",B,[n(s)]),C]),S,v,n("h3",P,[n("a",G,[n(s)]),H]),T,n("h3",N,[n("a",F,[n(s)]),k]),_,n("h3",R,[n("a",y,[n(s)]),w]),U,j,I,L],64)}const O={render:z,__hmrId:"/home/runner/work/deviltea.me/deviltea.me/posts/github-pages-cname-note.md"},W=e=>({components:e,render:z});export{O as VueComponent,W as VueComponentWith,s as attributes,i as toc};
